var app=angular.module("storageApp",[]);app.controller("myStorageController",function(n,t){n.items=[];n.selected=[];n.select=function(t){function i(n){return n.id===t}var r=n.items.findIndex(i),u=n.selected.findIndex(i),f;u!=-1?n.selected.splice(u,1):r!=-1&&(f=n.items[r],n.selected.push(f))};n.isSelected=function(t){return n.selected.some(function(n){return n.id===t})};n.load=function(i){t.getItems(i).then(function(t){n.items=t})}});app.controller("anotherStorageController",function(n){n.storages=[];n.items=[];n.init=function(){n.storages.push({id:1})};n.load=function(){}});app.factory("storageService",function(n,t){return{getItems:function(){let i=t.defer(),r={method:"GET",url:"/view/storage/test",headers:{Authorization:"Bearer "+localStorage.token}};return n(r).success(function(n){i.resolve(n)}).error(function(n){i.reject(n)}),i.promise}}});